(function(t){function e(e){for(var r,a,i=e[0],c=e[1],l=e[2],u=0,f=[];u<i.length;u++)a=i[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);h&&h(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,a=1;a<n.length;a++){var i=n[a];0!==o[i]&&(r=!1)}r&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},a={app:0},o={app:0},s=[];function i(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2d0af10a":"1a5c1aef","chunk-37f41dab":"107a5752","chunk-515261fe":"89ee443f","chunk-7b8ddbac":"70d110fd","chunk-b243fff8":"b78ebb18"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-515261fe":1,"chunk-7b8ddbac":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-2d0af10a":"31d6cfe0","chunk-37f41dab":"31d6cfe0","chunk-515261fe":"455ccd26","chunk-7b8ddbac":"c8621632","chunk-b243fff8":"31d6cfe0"}[t]+".css",o=c.p+r,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var l=s[i],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===r||u===o))return e()}var f=document.getElementsByTagName("style");for(i=0;i<f.length;i++){l=f[i],u=l.getAttribute("data-href");if(u===r||u===o)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var r=e&&e.target&&e.target.src||o,s=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete a[t],h.parentNode.removeChild(h),n(s)},h.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(h)})).then((function(){a[t]=0})));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var s=new Promise((function(e,n){r=o[t]=[e,n]}));e.push(r[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=i(t);var f=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(h);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,n[1](f)}o[t]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var f=0;f<l.length;f++)e(l[f]);var h=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"004b":function(t,e,n){"use strict";var r=n("c3ec"),a=n.n(r);a.a},"26bd":function(t,e,n){},"49f8":function(t,e,n){var r={"./en.json":"edd4","./ru.json":"7704"};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=o,t.exports=a,a.id="49f8"},"4e41":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("b20f");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[t.LOGIN?n("Menu"):t._e(),t.LOGIN?n("Settings"):t._e(),t.LOGIN?n("Nav"):t._e(),t.LOGIN?n("SwitchNav"):t._e(),n("Loading",{directives:[{name:"show",rawName:"v-show",value:t.LOADING,expression:"LOADING"}]}),n("Error",{directives:[{name:"show",rawName:"v-show",value:t.ERROR,expression:"ERROR"}]}),n("BackDrop",{directives:[{name:"show",rawName:"v-show",value:t.NAV&t.APP_MOBILE,expression:"NAV & APP_MOBILE"}]}),n("router-view")],1)},o=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menu",on:{click:function(e){return e.stopPropagation(),t.dropMenu(e)}}},[n("div",{staticClass:"name"},[t._v(" "+t._s(t.LOGIN_NAME)+" ")]),n("i",[n("svg",{class:{up:t.MENU},attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"#f9f9f9",width:"10",height:"10",viewBox:"0 0 284.929 284.929"}},[n("path",{attrs:{d:"M282.082 76.511l-14.274-14.273c-1.902-1.906-4.093-2.856-6.57-2.856-2.471 0-4.661.95-6.563 2.856L142.466 174.441 30.262 62.241c-1.903-1.906-4.093-2.856-6.567-2.856-2.475 0-4.665.95-6.567 2.856L2.856 76.515C.95 78.417 0 80.607 0 83.082c0 2.473.953 4.663 2.856 6.565l133.043 133.046c1.902 1.903 4.093 2.854 6.567 2.854s4.661-.951 6.562-2.854L282.082 89.647c1.902-1.903 2.847-4.093 2.847-6.565 0-2.475-.945-4.665-2.847-6.571z"}})])])])},i=[],c={name:"Menu",methods:{dropMenu:function(){this.$store.commit("CHANGE_MENU",!this.MENU)}},computed:{MENU:function(){return this.$store.state.app.MENU},LOGIN_NAME:function(){return this.$store.state.user.LOGIN_NAME}},created:function(){var t=this;document.addEventListener("click",(function(){t.$store.commit("CHANGE_MENU",!1)}))}},l=c,u=(n("ee2b"),n("2877")),f=Object(u["a"])(l,s,i,!1,null,"4203527d",null),h=f.exports,d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings",class:{show:t.MENU}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.lang,expression:"!lang"}]},[t.ROLE?n("div",{staticClass:"row",on:{click:t.panel}},[n("i",[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"#f9f9f9",width:"20",height:"20",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M20 19V7H4v12h16m0-16a2 2 0 012 2v14a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h16m-7 14v-2h5v2h-5m-3.42-4L5.57 9H8.4l3.3 3.3c.39.39.39 1.03 0 1.42L8.42 17H5.59l3.99-4z"}})])]),n("div",[t._v(" "+t._s(t.$t("nav.settings"))+" ")])]):t._e(),n("div",{staticClass:"row",on:{click:t.langShow}},[n("i",[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"#f9f9f9",width:"20",height:"20",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95a15.65 15.65 0 00-1.38-3.56A8.03 8.03 0 0118.92 8zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56A7.987 7.987 0 015.08 16zm2.95-8H5.08a7.987 7.987 0 014.33-3.56A15.65 15.65 0 008.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 01-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"}})])]),n("div",[t._v(" "+t._s(t.$t("settings.lang"))+" ")]),n("i",[n("svg",{staticClass:"right",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"#f9f9f9",width:"10",height:"10",viewBox:"0 0 284.929 284.929"}},[n("path",{attrs:{d:"M282.082 76.511l-14.274-14.273c-1.902-1.906-4.093-2.856-6.57-2.856-2.471 0-4.661.95-6.563 2.856L142.466 174.441 30.262 62.241c-1.903-1.906-4.093-2.856-6.567-2.856-2.475 0-4.665.95-6.567 2.856L2.856 76.515C.95 78.417 0 80.607 0 83.082c0 2.473.953 4.663 2.856 6.565l133.043 133.046c1.902 1.903 4.093 2.854 6.567 2.854s4.661-.951 6.562-2.854L282.082 89.647c1.902-1.903 2.847-4.093 2.847-6.565 0-2.475-.945-4.665-2.847-6.571z"}})])])]),n("div",{staticClass:"row",on:{click:t.exit}},[n("i",[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"#f9f9f9",width:"20",height:"20",viewBox:"0 0 533.333 533.333"}},[n("path",{attrs:{d:"M416.667 333.333v-66.666H250V200h166.667v-66.667l100 100-100 100zM383.333 300v133.333H216.667v100l-200-100V0h366.667v166.667H350V33.333H83.333L216.667 100v300H350V300h33.333z"}})])]),n("div",[t._v(" "+t._s(t.$t("settings.exit"))+" ")])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.lang,expression:"lang"}]},[n("div",{staticClass:"row lang",on:{click:t.langShow}},[n("i",[n("svg",{staticClass:"left",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"#f9f9f9",width:"10",height:"10",viewBox:"0 0 284.929 284.929"}},[n("path",{attrs:{d:"M282.082 76.511l-14.274-14.273c-1.902-1.906-4.093-2.856-6.57-2.856-2.471 0-4.661.95-6.563 2.856L142.466 174.441 30.262 62.241c-1.903-1.906-4.093-2.856-6.567-2.856-2.475 0-4.665.95-6.567 2.856L2.856 76.515C.95 78.417 0 80.607 0 83.082c0 2.473.953 4.663 2.856 6.565l133.043 133.046c1.902 1.903 4.093 2.854 6.567 2.854s4.661-.951 6.562-2.854L282.082 89.647c1.902-1.903 2.847-4.093 2.847-6.565 0-2.475-.945-4.665-2.847-6.571z"}})])])]),n("div",{staticClass:"row lang",on:{click:function(e){return t.switchLang("en")}}},[t._v(" English ")]),n("div",{staticClass:"row lang",on:{click:function(e){return t.switchLang("ru")}}},[t._v(" Русский ")])])])},v=[],E={name:"settings",data:function(){return{lang:!1}},methods:{exit:function(){this.$store.commit("CHANGE_MENU",!1),this.$store.commit("LOGOUT_USER"),this.$router.push("/".concat(this.$i18n.locale,"/login"))},langShow:function(){this.lang=!this.lang},switchLang:function(t){this.lang=!this.lang,this.$i18n.locale=t,this.$router.push({params:{lang:t}})},panel:function(){this.$store.commit("CHANGE_MENU",!1),this.$router.push("/".concat(this.$i18n.locale,"/admin"))}},computed:{MENU:function(){return this.$store.state.app.MENU},ROLE:function(){return 1===this.$store.state.user.ROLE}}},p=E,m=(n("004b"),Object(u["a"])(p,d,v,!1,null,"c49dee0c",null)),g=m.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{class:{open:t.nav}},[n("div",{staticClass:"title"}),t.role?n("div",{staticClass:"nav"},[n("router-link",{attrs:{"active-class":"active",to:"/"+t.$i18n.locale+"/create"}},[t._v(" "+t._s(t.$t("nav.create"))+" ")])],1):t._e(),n("div",{staticClass:"nav"},[n("router-link",{attrs:{exact:"","active-class":"active",to:"/"+t.$i18n.locale}},[t._v(" "+t._s(t.$t("nav.home"))+" ")]),n("router-link",{attrs:{"active-class":"active",to:"/"+t.$i18n.locale+"/worlds"}},[t._v(" "+t._s(t.$t("nav.worlds"))+" ")]),n("router-link",{attrs:{"active-class":"active",to:"/"+t.$i18n.locale+"/fractions"}},[t._v(" "+t._s(t.$t("nav.fractions"))+" ")]),n("router-link",{attrs:{"active-class":"active",to:"/"+t.$i18n.locale+"/races"}},[t._v(" "+t._s(t.$t("nav.races"))+" ")]),n("router-link",{attrs:{"active-class":"active",to:"/"+t.$i18n.locale+"/characters"}},[t._v(" "+t._s(t.$t("nav.characters")))]),n("router-link",{attrs:{"active-class":"active",to:"/"+t.$i18n.locale+"/stories"}},[t._v(" "+t._s(t.$t("nav.stories"))+" ")]),n("router-link",{attrs:{"active-class":"active",to:"/"+t.$i18n.locale+"/projects"}},[t._v(" "+t._s(t.$t("nav.projects"))+" ")]),n("router-link",{attrs:{"active-class":"active",to:"/"+t.$i18n.locale+"/gallery"}},[t._v(" "+t._s(t.$t("nav.gallery"))+" ")]),n("router-link",{attrs:{"active-class":"active",to:"/"+t.$i18n.locale+"/login"}},[t._v(" login ")])],1)])},R=[],w={name:"Nav",computed:{nav:function(){return this.$store.state.app.NAV},role:function(){return 1===this.$store.state.user.ROLE}}},N=w,O=(n("dd2d"),Object(u["a"])(N,_,R,!1,null,"3853c35d",null)),A=O.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:t.event}},[n("i",[n("svg",{directives:[{name:"show",rawName:"v-show",value:!t.NAV,expression:"!NAV"}],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 16 16"}},[n("path",{attrs:{fill:"#f9f9f9",d:"M0 0h7v7H0V0zM9 0h7v7H9V0zM0 9h7v7H0V9zM9 9h7v7H9V9z"}})]),n("svg",{directives:[{name:"show",rawName:"v-show",value:t.NAV,expression:"NAV"}],attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"#f9f9f9",width:"25",height:"25",viewBox:"0 0 612.043 612.043"}},[n("path",{attrs:{d:"M397.503 306.011L593.08 110.434c25.27-25.269 25.27-66.213 0-91.482-25.269-25.269-66.213-25.269-91.481 0L306.022 214.551 110.445 18.974c-25.269-25.269-66.213-25.269-91.482 0s-25.269 66.213 0 91.482L214.54 306.033 18.963 501.61c-25.269 25.269-25.269 66.213 0 91.481 25.269 25.27 66.213 25.27 91.482 0l195.577-195.576 195.577 195.576c25.269 25.27 66.213 25.27 91.481 0 25.27-25.269 25.27-66.213 0-91.481L397.503 306.011z"}})])])])},b=[],L={name:"SwitchNav",methods:{event:function(){this.$store.commit("CHANGE_NAV",!this.NAV)}},computed:{NAV:function(){return this.$store.state.app.NAV}}},C=L,G=(n("7137"),Object(u["a"])(C,S,b,!1,null,"4addeacc",null)),k=G.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"back-drop",on:{click:t.closeAll}})},M=[],$={name:"BackDrop",methods:{closeAll:function(){this.$store.commit("CHANGE_NAV",!1)}}},H=$,T=Object(u["a"])(H,x,M,!1,null,null,null),I=T.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"back-drop"},[n("svg",{staticStyle:{margin:"auto","--darkreader-inline-bgimage":"initial","--darkreader-inline-bgcolor":"#181a1b"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",preserveAspectRatio:"xMidYMid",display:"block"}},[n("circle",{staticStyle:{"--darkreader-inline-fill":"none","--darkreader-inline-stroke":"#7ed1ab"},attrs:{cx:"50",cy:"50",fill:"none",stroke:"#42b983","stroke-width":"10",r:"35","stroke-dasharray":"164.93361431346415 56.97787143782138",transform:"rotate(35.626 50 50)"}},[n("animateTransform",{attrs:{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;360 50 50",keyTimes:"0;1"}})],1)])])},y=[],D={name:"Loading"},j=D,P=Object(u["a"])(j,U,y,!1,null,null,null),z=P.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"back"},[n("div",{staticClass:"back-drop",on:{click:t.close}}),n("div",{staticClass:"flex-card main-card"},[n("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("error.title"))+" ")]),n("div",{staticClass:"row"},[t._v(" "+t._s(t.ERROR_MASSAGE)+" ")]),n("div",{staticClass:"row"},[n("button",{attrs:{type:"submit"},on:{click:t.close}},[t._v(" "+t._s(t.$t("error.next"))+" ")])])])])},B=[],F={name:"Error",methods:{close:function(){this.$store.commit("CLOSE_ERROR")}},computed:{ERROR_MASSAGE:function(){var t=this.$store.state.app.ERROR_MASSAGE;return 400===t&&(t=this.$t("errors.400")),401===t&&(t=this.$t("errors.401")),500===t&&(t=this.$t("errors.500")),503===t&&(t=this.$t("errors.503")),t}}},K=F,q=Object(u["a"])(K,V,B,!1,null,null,null),J=q.exports,W={components:{Menu:h,Settings:g,Nav:A,SwitchNav:k,Loading:z,Error:J,BackDrop:I},computed:{LOGIN:function(){return this.$store.state.user.LOGIN},LOADING:function(){return this.$store.state.app.LOADING},ERROR:function(){return this.$store.state.app.ERROR},MENU:function(){return this.$store.state.app.MENU},NAV:function(){return this.$store.state.app.NAV},APP_MOBILE:function(){return this.$store.state.app.APP_MOBILE}}},Y=W,Z=Object(u["a"])(Y,a,o,!1,null,null,null),Q=Z.exports,X=n("9483");Object(X["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("d3b7");var tt=n("8c4f"),et=(n("4160"),n("ac1f"),n("466d"),n("159b"),n("ddb0"),n("a925"));function nt(){var t=n("49f8"),e={};return t.keys().forEach((function(n){var r=n.match(/([A-Za-z0-9-_]+)\./i);if(r&&r.length>1){var a=r[1];e[a]=t(n)}})),e}r["a"].use(et["a"]);var rt=new et["a"]({locale:"ru",fallbackLocale:"en",messages:nt()}),at=n("2f62"),ot={state:{APP_MOBILE:/Mobile|webOS|BlackBerry|IEMobile|MeeGo|mini|Fennec|Windows Phone|Android|iP(ad|od|hone)/i.test(navigator.userAgent),ERROR:!1,ERROR_MASSAGE:"",LOADING:!1,MENU:!1,NAV:!1},mutations:{SET_ERROR:function(t,e){t.ERROR=!0,t.ERROR_MASSAGE=e},CLOSE_ERROR:function(t){t.ERROR=!1},CHANGE_LOADING:function(t,e){t.LOADING=e},CHANGE_MENU:function(t,e){t.MENU=e},CHANGE_NAV:function(t,e){t.NAV=e}}},st=(n("96cf"),n("1da1")),it=n("bc3a"),ct=n.n(it),lt=ct.a.create({baseURL:"http://localhost:3000/"}),ut={state:{LOGIN_NAME:null,ROLE:null,ACCESS_TOKEN:null,REFRESH_TOKEN:null,LOGIN:!1},mutations:{LOGIN_USER:function(t,e){var n=e.login,r=e.role,a=e.ac,o=e.rt;lt.defaults.headers.common["Authorization"]="Bearer "+a,t.LOGIN_NAME=n,t.ROLE=r,t.ACCESS_TOKEN=a,t.REFRESH_TOKEN=o,t.LOGIN=!0},LOGOUT_USER:function(t){delete lt.defaults.headers.common["Authorization"],t.LOGIN_NAME=null,t.ROLE=null,t.ACCESS_TOKEN=null,t.REFRESH_TOKEN=null,t.LOGIN=!1},SET_REFRESH_TOKEN:function(t){lt.defaults.headers.common["Authorization"]="Bearer "+t.REFRESH_TOKEN},REFRESH_TOKENS:function(t,e){var n=e.ac,r=e.rt;lt.defaults.headers.common["Authorization"]="Bearer "+n,t.ACCESS_TOKEN=n,t.REFRESH_TOKEN=r}},actions:{LOGIN:function(t,e){var n=this;return Object(st["a"])(regeneratorRuntime.mark((function r(){var a,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.commit,o=e.login,s=e.password,a("CHANGE_LOADING",!0),r.next=5,lt.post("authorization",{login:o,password:s}).then((function(t){var e=t.data;a("LOGIN_USER",{login:o,role:e.role,ac:e.ac_token,rt:e.ref_token}),n.state.app.APP_MOBILE||a("CHANGE_NAV",!0),a("CHANGE_LOADING",!1)})).catch((function(t){a("SET_ERROR",t.response.status),a("CHANGE_LOADING",!1)})).catch((function(){a("SET_ERROR",503),a("CHANGE_LOADING",!1)}));case 5:case"end":return r.stop()}}),r)})))()},REFRESH:function(t){return Object(st["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n("SET_REFRESH_TOKEN"),e.next=4,lt.get("refresh").then((function(t){var e=t.data;n("REFRESH_TOKENS",{ac:e.ac_token,rt:e.ref_token})})).catch((function(t){n("SET_ERROR",t.response.status),n("CHANGE_LOADING",!1)})).catch((function(){n("SET_ERROR",503),n("CHANGE_LOADING",!1)}));case 4:case"end":return e.stop()}}),e)})))()}}},ft=(n("4de4"),{state:{USERS:[]},mutations:{UPDATE_USERS:function(t,e){t.USERS=e},ADD_USER:function(t,e){t.USERS.unshift(e)},DEL_USER:function(t,e){t.USERS.filter((function(t){return t.login!==e}))},PUT_USER:function(t,e){t.USERS.filter((function(t){t.login===e.login&&(t=e)}))}},actions:{SET_USER:function(t,e){var n=this;return Object(st["a"])(regeneratorRuntime.mark((function r(){var a,o,s,i,c,l,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.commit,o=t.dispatch,s=e.lang,i=e.login,c=e.password,l=e.role,a("CHANGE_LOADING",!0),u=n.state.user.LOGIN_NAME,r.next=6,lt.post("user",{lang:s,login:i,password:c,role:l,Creator:u}).then((function(t){var e=t.data;e.result?a("ADD_USER",{login:i,password:c,role:l,Creator:u}):a("SET_ERROR",e.massage),a("CHANGE_LOADING",!1)})).catch((function(t){403===t.response.status?o("REFRESH").then((function(){o("SET_USER",{lang:s,login:i,password:c,role:l})})).catch((function(t){a("SET_ERROR",t.response.status)})):a("SET_ERROR",t.response.status),a("CHANGE_LOADING",!1)})).catch((function(){a("SET_ERROR",503),a("CHANGE_LOADING",!1)}));case 6:case"end":return r.stop()}}),r)})))()},GET_USERS:function(t){return Object(st["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.dispatch,e.next=3,lt.get("user").then((function(t){var e=t.data;n("UPDATE_USERS",e.users)})).catch((function(t){403===t.response.status?r("REFRESH").then((function(){r("GET_USERS")})).catch((function(t){n("SET_ERROR",t.response.status)})):n("SET_ERROR",t.response.status)})).catch((function(){n("SET_ERROR",503)}));case 3:case"end":return e.stop()}}),e)})))()},DELETE_USER:function(t,e){return Object(st["a"])(regeneratorRuntime.mark((function n(){var r,a,o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,a=t.dispatch,o=e.lang,s=e.login,r("CHANGE_LOADING",!0),n.next=5,lt.delete("user",{lang:o,login:s}).then((function(){r("DEL_USER",s),r("CHANGE_LOADING",!1)})).catch((function(t){403===t.response.status?a("REFRESH").then((function(){a("DELETE_USER",{lang:o,login:s})})).catch((function(t){r("SET_ERROR",t.response.status)})):r("SET_ERROR",t.response.status),r("CHANGE_LOADING",!1)})).catch((function(){r("SET_ERROR",503),r("CHANGE_LOADING",!1)}));case 5:case"end":return n.stop()}}),n)})))()},PUT_USER:function(t,e){return Object(st["a"])(regeneratorRuntime.mark((function n(){var r,a,o,s,i,c,l,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,a=t.dispatch,o=e.lang,s=e.login,i=e.email,c=e.password,l=e.role,u=e.Creator,r("CHANGE_LOADING",!0),n.next=5,lt.put("user",{update:{lang:o,login:s,email:i,password:c,role:l,Creator:u}}).then((function(){r("PUT_USER",{login:s,email:i,password:c,role:l,Creator:u}),r("CHANGE_LOADING",!1)})).catch((function(t){403===t.response.status?a("REFRESH").then((function(){a("PUT_USER",{lang:o,login:s,email:i,password:c,role:l,Creator:u})})).catch((function(t){r("SET_ERROR",t.response.status)})):r("SET_ERROR",t.response.status),r("CHANGE_LOADING",!1)})).catch((function(){r("SET_ERROR",503),r("CHANGE_LOADING",!1)}));case 5:case"end":return n.stop()}}),n)})))()}}});r["a"].use(at["a"]);var ht=new at["a"].Store({modules:{app:ot,user:ut,admin:ft}}),dt=function(t,e,n){ht.state.user.LOGIN?n():n("/ru/login")},vt=function(t,e,n){ht.state.user.LOGIN?1===ht.state.user.ROLE?n():n(e):n("/ru/login")};r["a"].use(tt["a"]);var Et=[{path:"/",redirect:"/".concat(rt.locale)},{path:"/:lang",component:{render:function(t){return t("router-view")}},children:[{path:"/",name:"Home",component:function(){return n.e("chunk-515261fe").then(n.bind(null,"2481"))},props:!0,beforeEnter:dt},{path:"admin",name:"Admin",component:function(){return n.e("chunk-7b8ddbac").then(n.bind(null,"3530"))},beforeEnter:vt,children:[{path:":id",name:"Settings"}]},{path:"create",name:"Create",component:function(){return n.e("chunk-b243fff8").then(n.bind(null,"d879"))},beforeEnter:dt},{path:"gallery",name:"Gallery",component:function(){return n.e("chunk-2d0af10a").then(n.bind(null,"0d77"))},beforeEnter:dt},{path:"login",name:"Login",component:function(){return n.e("chunk-37f41dab").then(n.bind(null,"a55b"))}},{path:":id",name:"Showcase",props:!0,component:function(){return n.e("chunk-515261fe").then(n.bind(null,"2481"))},beforeEnter:dt}]}],pt=new tt["a"]({routes:Et,mode:"history"}),mt=pt,gt=n("1dce"),_t=n.n(gt),Rt=n("58ca");r["a"].config.productionTip=!1,mt.beforeEach((function(t,e,n){var r=t.params.lang;r||(r="ru"),rt.locale=r,n()})),r["a"].use(_t.a),r["a"].use(Rt["a"]),new r["a"]({router:mt,store:ht,i18n:rt,render:function(t){return t(Q)}}).$mount("#app")},7137:function(t,e,n){"use strict";var r=n("4e41"),a=n.n(r);a.a},7704:function(t){t.exports=JSON.parse('{"login":{"title":"Вход","login":"Логин","password":"Пароль","next":"Далее","role":"Роль","creator":"Создатель","date":"Дата создания","email":"Почта"},"error":{"title":"Возникла ошибочка!","next":"Хорошо"},"settings":{"exit":"Выход","lang":"Язык"},"nav":{"create":"Создать","close":"Закрыть","delete":"Удалить","update":"Изменить","home":"Главная","worlds":"Миры","fractions":"Фракции","races":"Расы","characters":"Персонажи","stories":"Рассказы","projects":"Проекты","gallery":"Галерея","settings":"Настройки","users":"Пользователи"},"notFound":{"title":"По данному запросу мы ничего не нашли :("},"section":{"new":"Новинка","favorite":"Избранное","collection":"Коллекция"},"errors":{"400":"Неверный запрос","401":"Не верные email или пароль","500":"Внутренняя ошибка сервера","503":"Сервер не доступен"},"role":{"1":"Администратор","2":"Творец","3":"Гость"}}')},b20f:function(t,e,n){},c3ec:function(t,e,n){},c4b0:function(t,e,n){},dd2d:function(t,e,n){"use strict";var r=n("c4b0"),a=n.n(r);a.a},edd4:function(t){t.exports=JSON.parse('{"login":{"title":"Authorization","login":"Login","password":"Password","next":"Next","role":"Role","creator":"Creator","date":"Date create","email":"Email"},"error":{"title":"There was a mistake!","next":"OK"},"settings":{"exit":"Exit","lang":"Language"},"nav":{"create":"Create","close":"Close","delete":"delete","update":"update","home":"Home","worlds":"Worlds","fractions":"Fractions","races":"Races","characters":"Characters","stories":"Stories","projects":"Projects","gallery":"Gallery","settings":"Settings","users":"Users"},"notFound":{"title":"We didn\'t find anything :("},"section":{"new":"New","favorite":"Favorite","collection":"Collection"},"errors":{"400":"Bad request","401":"Invalid email or password","500":"Internal server error","503":"Server is not available"},"role":{"1":"Admin","2":"Creator","3":"Guest"}}')},ee2b:function(t,e,n){"use strict";var r=n("26bd"),a=n.n(r);a.a}});
//# sourceMappingURL=app.8a499118.js.map